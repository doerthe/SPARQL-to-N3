@prefix aux: <http://example.org/aux#> .
@prefix e: <http://eulersharp.sourceforge.net/2003/03swap/log-rules#> .
@prefix list: <http://www.w3.org/2000/10/swap/list#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .
@prefix math: <http://www.w3.org/2000/10/swap/math#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sp: <http://spinrdf.org/sp#> .
@prefix string: <http://www.w3.org/2000/10/swap/string#> .
@prefix : <http://example.org/aux#> .


# CHAIN PREDICATES
# - optional chain
#
{
   ( ?a ?b ) :optionalChain ?predicate .
}
<= 
{
   ?a log:equalTo ?b 
} .

#
{
   ( ?a ?b ) :optionalChain ?predicate .
}
<= 
{
   ( ?a ?b ) :chain ?predicate .
} .


# - chain
#
{
   ( ?a ?b ) :chain ?predicate .
}
<= 
{
   ?a ?predicate ?b .
} .

#
{
   ( ?a ?x ) :chain ?predicate .
}
<= 
{
   ?a ?predicate ?b .
   ( ?b ?x ) :chain ?predicate 
} .


# - optional
#
{
   ( ?a ?b ) :optional ?predicate 
}
<= 
{
   ?a log:equalTo ?b 
} .

#
{
   ( ?a ?b ) :optional ?predicate 
}
<= 
{
   ?a ?predicate ?b 
} .
