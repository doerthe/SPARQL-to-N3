#Processed by EYE v3.4.1 josd
#eye examples/select-aggr-1.spin auxiliary-files/aux.n3 --query queries/query_general.n3 --nope --quantify http://eyereasoner.github.io/.well-known/genid/

@prefix string: <http://www.w3.org/2000/10/swap/string#>.
@prefix list: <http://www.w3.org/2000/10/swap/list#>.
@prefix log: <http://www.w3.org/2000/10/swap/log#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix spin: <http://spinrdf.org/spin#>.
@prefix sp: <http://spinrdf.org/sp#>.
@prefix ex: <http://example.org/spin#>.
@prefix e: <http://eulersharp.sourceforge.net/2003/03swap/log-rules#>.
@prefix aux: <http://example.org/aux#>.
@prefix math: <http://www.w3.org/2000/10/swap/math#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix var: <http://eyereasoner.github.io/.well-known/genid/1721543723240645708#>.

{(((?t_4) (?t_5)) {?t_4 <http://books.example/affiliates> ?t_6. ?t_7 <http://books.example/price> ?t_5. ?t_6 <http://books.example/writesBook> ?t_7} ?U_17) log:collectAllIn ?U_18. "pairs" log:trace (?U_17). (?U_19 {?U_17 list:member ?U_20. (?U_20 0) list:memberAt ?U_19} ?U_21) log:collectAllIn ?U_18. ?U_21 list:removeDuplicates ?U_22. "uniqueGroupVals" log:trace (?U_22). ?U_22 list:member ?U_19. "groupVal" log:trace (?U_19). (?U_23 {?U_17 list:member ?U_20. (?U_20 0) list:memberAt ?U_19. (?U_20 1) list:memberAt ?U_23} ?U_24) log:collectAllIn ?U_18. "aggrValueLists" log:trace (?U_24). (?U_25 {((sp:Sum ?t_5 "totalPrice")) list:iterate (?U_26 (?U_8 ?U_9 ?U_10)). "aggr" log:trace (?U_8 ?U_9 ?U_10). (?U_27 {?U_24 list:member ?U_23. (?U_23 ?U_26) list:memberAt ?U_27} ?U_28) log:collectAllIn ?U_18. ?U_28 ?U_8 ?U_29. "result" log:trace (?U_28 ?U_8 ?U_29). (?U_10 ?U_29) log:equalTo ?U_25} ?U_30) log:collectAllIn ?U_18. "aggrResultCells" log:trace (?U_30). ((?U_31 ?U_0) {(("org" ?t_4)) list:iterate (?U_26 ?U_4). (?U_4 0) list:memberAt ?U_0. "T0" log:trace (?U_0 ("totalPrice")). ?U_0 list:in ("totalPrice"). (?U_19 ?U_26) list:memberAt ?U_31} ?U_32) log:collectAllIn ?U_18. "groupResultCells" log:trace (?U_32). (?U_30 ?U_32) list:append ?U_33} => {_:sk_34 ex:result ?U_33}.

#2023-03-02T16:42:14.747Z in=61 out=1 ent=1 step=1 brake=2 inf=182026 sec=0.039 inf/sec=4667333
#ENDS

