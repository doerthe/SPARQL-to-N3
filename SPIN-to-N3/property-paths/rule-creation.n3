@prefix list: <http://www.w3.org/2000/10/swap/list#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .


{?a =>?b.
 ?a log:includes {?s ("^" ?p) ?o}}=>{{?o ?p ?s}=>{?s ("^" ?p) ?o}}.

 {?a =>?b.
 ?a log:includes {?s (?p1 "/" ?p2) ?o}}=>{{?s ?p1 ?x. ?x ?p2 ?o}=>{?s (?p1 "/" ?p2) ?o}}.


 {?a =>?b.
 ?a log:includes {?s (?p1 "|" ?p2) ?o}}=>{{?s ?p1 ?o.}=>{?s (?p1 "|" ?p2) ?o}. {?s ?p2 ?o.}=>{?s (?p1 "|" ?p2) ?o}.}.


 {?a =>?b.
 ?a log:includes {?s ( ?p "*") ?o}}=>{{?s (?p "+") ?o}=>{?s ( ?p "*") ?o}. {?s ( ?p "0")  ?s}=>{?s ( ?p "*") ?s}.  }.

  {?a =>?b.
 ?a log:includes {?s ( ?p "+") ?o}}=>{{?s ?p ?o}=>{?s ( ?p "+") ?o}. {?s ?p ?x. ?x ( ?p "+") ?o}=>{?s ( ?p "+") ?o}.  }.

 {?a =>?b.
 ?a log:includes {?s ( ?p "?") ?o}}=>{{?s ?p ?o}=>{?s ( ?p "?") ?o}. {?s ( ?p "0") ?s}=>{?s ( ?p "?") ?s}. }.

 {?a =>?b.
 ?a log:includes {?s ( ?p "0") ?o}}=>{ {?s ?pp ?oo}=>{?s ( ?p "0") ?s}. {?ss ?pp ?s}=>{?s ( ?p "0") ?s} }.


 {?a =>?b.
 ?a log:includes {?s ("!" ?list) ?o}.
 ?list log:rawType rdf:List. 
  (?p1 { ?p1 list:in ?list. ?p1 log:rawType log:Other} ?posList) log:collectAllIn ?scope.
 ?posList log:notEqualTo ().
 }=>{{?s ?p ?o. ?p log:rawType log:Other.
?posList list:notMember ?p.}=>{?s ("!" ?list) ?o}.  }.


 {?a =>?b.
 ?a log:includes {?s ("!" ?list) ?o}.
 ?list log:rawType rdf:List.  
 (?p1 {("^" ?p1) list:in ?list} ?negList) log:collectAllIn ?scope.
 ?negList log:notEqualTo ().
 }=>{{?o ?p ?s. ?p log:rawType log:Other.
?negList list:notMember ?p.}=>{?s ("!" ?list) ?o}.  }.

{?a =>?b.
 ?a log:includes {?s ("!" ?p) ?o}.
 ?p log:rawType rdf:Other.  
 }=>{{?s ?p2 ?o. ?p2 log:notEqualTo ?p.
}=>{?s ("!" ?p) ?o}.  }.

{?a =>?b.
 ?a log:includes {?s ("!" ("^" ?p)) ?o}. 
 }=>{{?o ?p2 ?s. ?p2 log:notEqualTo ?p.
}=>{?s ("!" ("^" ?p)) ?o}.  }.


